<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>初识进程 | ChengZi</title><meta name="keywords" content="进程"><meta name="author" content="chengzi"><meta name="copyright" content="chengzi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="初识进程"><meta name="application-name" content="初识进程"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="初识进程"><meta property="og:url" content="http://example.com/2024/12/13/linux-process/index.html"><meta property="og:site_name" content="ChengZi"><meta property="og:description" content="操作系统在了解进程前，还得介绍一下操作系统。 概念操作系统是计算机系统中的一种重要软件，它是计算机硬件和软件之间的桥梁，负责管理计算机系统的各种资源，如CPU、内存、输入输出设备等。操作系统可以被看作是计算机系统的管理者，它控制和协调计算机系统中各个部件的工作，使得应用程序能够正确地运行。 操作系统"><meta property="og:locale" content="en"><meta property="og:image" content="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734080988998.jpg"><meta property="article:author" content="chengzi"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734080988998.jpg"><meta name="description" content="操作系统在了解进程前，还得介绍一下操作系统。 概念操作系统是计算机系统中的一种重要软件，它是计算机硬件和软件之间的桥梁，负责管理计算机系统的各种资源，如CPU、内存、输入输出设备等。操作系统可以被看作是计算机系统的管理者，它控制和协调计算机系统中各个部件的工作，使得应用程序能够正确地运行。 操作系统"><link rel="shortcut icon" href="/tubiao1.jpg"><link rel="canonical" href="http://example.com/2024/12/13/linux-process/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: '',
  enable_page_level_ads: 'true'
});</script><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"(⁎⁍̴̛ᴗ⁍̴̛⁎)快回来快回来！","backTitle":"♪(^∇^*)你好鸭！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"σ(o’ω’o)睡觉啦，不要熬夜！","startTime":0,"endTime":5},{"greeting":"٩(๑˃̵ᴗ˂̵๑)۶早上好鸭，今天也要开心！","startTime":6,"endTime":9},{"greeting":"(｡◕ ∀ ◕｡)上午好鸭，今天有什么计划呢？","startTime":10,"endTime":10},{"greeting":"(๑¯ω¯๑)想淦饭了捏~","startTime":11,"endTime":11},{"greeting":"ʕ•̀ω•́ʔ✧午安!","startTime":12,"endTime":14},{"greeting":"(･’ω’･)今天完成了什么工作呢？","startTime":14,"endTime":18},{"greeting":"(๑˃̵ᴗ˂̵)و ﾖｼ!19点喽, 奖励一顿丰盛的大餐吧。","startTime":19,"endTime":19},{"greeting":"(,,◕ ⋏ ◕,,)晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🏠 摆烂躺平大学生","智能家居小能手","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"这篇博客已经","messageNext":"天没有更新啦，可能某些内容已经不适用。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":true,"limitCount":50,"languages":{"author":"Author: chengzi","link":"Link: ","source":"Source: ChengZi","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'ChengZi',
  title: '初识进程',
  postAI: '',
  pageFillDescription: '操作系统, 概念, 发展, 内存, 进程, 概念, fork, 进程状态, 僵尸进程与孤儿进程, 模拟, 一些细节, 进程优先级操作系统在了解进程前还得介绍一下操作系统概念操作系统是计算机系统中的一种重要软件它是计算机硬件和软件之间的桥梁负责管理计算机系统的各种资源如内存输入输出设备等操作系统可以被看作是计算机系统的管理者它控制和协调计算机系统中各个部件的工作使得应用程序能够正确地运行操作系统通常包括以下几个组成部分内存管理负责管理计算机系统的内存资源包括内存的分配释放和保护等进程管理负责管理计算机系统中的进程包括进程的创建调度同步和通信等文件系统负责管理计算机系统中的文件和目录包括文件的读写创建删除和保护等输入输出管理负责管理计算机系统中的输入输出设备包括输入输出的缓存设备的分配和释放等维基百科这样总结操作系统操作系统缩写是一组主管并控制计算机操作运用和运行硬件软件资源和提供公共服务来组织用户交互的相互关联的系统软件程序同时也是计算机系统的内核与基石操作系统需要处理如管理与配置内存决定系统资源供需的优先次序控制输入与输出设备操作网络与管理文件系统等基本事务操作系统也提供一个让用户与系统交互的操作界面操作系统的类型非常多样不同机器安装的操作系统可从简单到复杂可从移动电话的嵌入式系统到超级电脑的大型操作系统许多操作系统制造者对它涵盖范畴的定义也不尽一致例如有些操作系统集成了图形用户界面而有些仅使用命令行界面将图形用户界面视为一种非必要的应用程序计算机系统中都包含且存在的一个基本的程序集合就被称为操作系统其根本目的就在于为用户提供一个相对方便的操作环境管理计算机的软硬件资源发展在世纪年代初期计算机系统还处于非常初级的阶段计算机的应用也非常有限直到年约翰冯诺伊曼提出了冯洛伊曼体系这一体系彻底改变了计算机系统的结构和设计开创了计算机技术的新时代随着计算机技术的不断发展计算机系统的规模和复杂度也不断增加操作系统的概念也随之出现世纪年代初期公司发布了第一款商用操作系统这标志着操作系统开始进入商用化阶段从此以后操作系统和冯洛伊曼体系的发展就开始了新的篇章随着计算机技术的不断进步操作系统和冯洛伊曼体系也不断更新和演化逐步适应了现代计算机系统的各种应用场景和技术需求冯诺依曼体系结构设计概念内存我们如今所能使用的大部分计算机都遵循这冯诺依曼体系但冯诺依曼结构并非这一节的重点我们只需要知道指的是存储器也就是常谈的内存所有程序都是必须放到内存中去进行的这是因为计算机的只能直接访问内存中的数据和指令而无法直接访问硬盘等外部存储设备中的数据和指令因此为了使程序能够被执行必须先将程序加载到内存中当程序被加载到内存中后可以通过内存地址来访问程序的指令和数据而内存的访问速度比硬盘等外部存储设备的访问速度要快很多所以将程序加载到内存中可以提高程序的运行效率程序加载到内存中运行是计算机系统必须遵循的基本原则也是现代计算机系统高效运行的重要保障这样做也可以提高程序间的并发能力也提高了程序的安全性与稳定性而内存的管理又正好是操作系统的工作而要谈的主题进程简单的说就是运行的程序也就是加载到内存中的程序这是需要操作系统进行协调控制的计算机作为管理者驱动程序就是执行者各种软硬件资源就是被管理者管理者和被管理者并不需要见面就像学校里你不用与校长见面在公司也大概率不会见老板你们之间的协调是通过辅导员或组长来完成的而在计算机系统中这个过程就交由程序作为执行者来完成系统调用则作为操作系统与程序之间的接口它将操作系统的底层功能暴露给程序使得程序可以直接调用操作系统提供的服务和资源系统调用是程序实现系统级别功能的重要手段之一操作系统在进程方面的作用可以简单的概括为先描述进程再组织进程进程概念何为描述又何为组织进程是指正在运行的程序实例它包含了程序代码数据和执行状态等信息操作系统需要对进程进行管理包括创建调度终止通信等操作为了对进程进行管理操作系统需要先对进程进行描述即确定进程的属性和状态如进程优先级状态等进程描述通常由进程控制块来完成在进程描述的基础上操作系统需要对进程进行组织以便进行管理和调度进程可以组织成多种形式如进程队列进程树等进程队列是指将同类进程组织到一起如就绪队列等待队列等进程树是指将进程按照父子关系组织起来形成树形结构举个例子当一个进程需要被调度时操作系统可以根据进程的属性和状态选择合适的调度算法将进程调度到上执行同时操作系统还可以通过进程间通信等机制实现进程之间的数据共享和协作一个进程等于加上自己的数据与代码当一个进程需要被加载到内存中去时首先会创建一个描述进程的结构体对象也就是通常包含以下信息进程状态表示进程当前的状态如就绪运行等待等进程标识标识进程的唯一标识符如进程父进程等寄存器值保存进程在执行过程中各个寄存器的值如程序计数器堆栈指针等进程优先级表示进程的优先级用于调度器进行进程调度进程资源表示进程所占用的资源如打开的文件分配的内存等进程调度信息包含了进程的调度信息如进程的调度时间片已执行的时间等操作系统下的叫做是内核的一种数据结构它会被装载到内存里且包含着进程的信息在里常有以下的内容标示符描述本进程的唯一标示符用来区别其他进程状态任务状态优先级相对于其他进程的优先级程序计数器程序中即将被执行的下一条指令的地址内存指针包括程序代码和进程相关数据的指针还有和其他进程共享的内存块的指针除此之外还有上下文数据记账信息等等可以通过指令查看进程或者等用户级工具也可以通过系统调用的方法来获取进程的进程以及父进程运行此程序得到如下结果在操作系统中父进程和子进程指的是进程之间的关系父进程是生成其他进程的进程而子进程是由父进程生成的进程当一个进程创建一个新的进程的时候创建者进程就被叫做父进程而新创建的进程被称为子进程父进程会通过系统调用来创建子进程在创建子进程后父进程和子进程就会拥有相同的代码段数据段和堆栈等资源但是它们具备各自独立的执行空间子进程会从父进程那里继承部分的属性包括进程文件描述符等子进程可以通过系统调用来加载新的程序代码从而替换掉原有的代码段从而开始执行新的程序子进程还可以通过系统调用来终止自己的执行父进程和子进程的关系是一种层次结构可以形成进程树父进程可以创建多个子进程而子进程也可以再次创建新的子进程形成多层级的进程树结构接下来就认识一下如何用创建进程是一个系统调用作用是创建一个新的进程它会复制当前进程创建一个新的子进程在调用时操作系统会为子进程创建一个新的进程控制块并将父进程的的副本复制给子进程头文件为函数原型函数返回两次一次在父进程中返回子进程的进程一次在子进程中返回这样可以通过返回值的不同来区分父进程和子进程的执行路径在函数执行后父进程和子进程会继续执行调用之后的代码父进程和子进程会拥有相同的代码段数据段和堆栈等资源但是它们有各自独立的执行空间在系统如中当父进程通过某种方式如系统调用创建一个子进程时子进程会继承父进程的地址空间的一个副本这个副本包括了代码段即程序的机器指令部分如果父进程和子进程都还没有对各自的代码段进行修改这是非常罕见的因为代码段通常是只读的它们实际上可能指向相同的物理内存页通过虚拟内存机制但从进程的角度来看每个进程都有自己的虚拟地址空间中的代码段副本而对于数据段包括全局变量和静态变量和堆栈用于函数调用和局部变量情况就不同了当子进程被创建时它会得到父进程数据段和堆栈的一个独立副本这意味着虽然初始值可能相同因为是复制过来的但这两个进程对这些内存区域所做的任何修改都是独立的不会影响到对方子进程会继承父进程的很多属性同时子进程也会有一些独属于自己的属性例如它的父进程会是父进程的进程而子进程的进程会是一个新的唯一值如何做到返回两次函数可以创建一个新的进程该新进程是原始进程的一个副本通过函数原始进程就会被复制一份包括代码数据堆栈等并且在两个进程中返回不同的值具体的讲函数被调用时操作系统会创建一个新的进程称为子进程并将子进程的副本返回给父进程父进程会收到子进程的进程而子进程会收到这样就实现了函数返回两次的效果在函数被调用后父进程和子进程会在函数调用的位置继续执行它们会完全独立地运行并且有各自的进程子进程会继承父进程的文件描述符用户等属性但它们的执行环境是相互独立的通过函数的返回值父进程和子进程可以根据不同的返回值来执行不同的代码逻辑且它们的执行顺序是不确定的取决于操作系统如何调度总结一下有两个返回值父子进程代码共享数据各自开辟空间私有一份采用写时拷贝使用时常用进行分流结果函数的作用是创建一个新的进程使得父进程和子进程可以并发执行进行进程间通信共享和隔离资源并形成进程树结构实现进程的管理和控制具体的使用会在后面介绍在环境下父进程创建子进程的常用方法是使用函数但除了函数还有其他的方式可以创建子进程了解函数与函数类似但是函数创建的子进程会与父进程共享相同的地址空间子进程在调用函数或者函数之前必须要调用函数或者函数来替换或退出否则可能会导致数据不一致的问题函数函数是特有的系统调用可以创建一个新的进程并允许在创建时指定各种选项例如共享地址空间共享文件描述符等函数该函数用于在一个进程内创建一个新的线程这个线程可以看作是一个轻量级的子进程线程共享父进程的地址空间和资源但是有独立的栈空间和线程还有一些特殊情况下可以创建子进程例如通过函数调用命令或者通过函数在当前进程内启动一个新的程序但是这些方式实际上都是通过或者等底层机制来实现的进程状态在中进程有主要存在以下几个状态运行进程正在执行或等待执行就绪进程已经准备好执行但还没有得到的执行时间等待进程正在等待某个事件的发生如操作的完成信号的到达等停止进程被暂停执行通常是由于接收到一个信号或被调试器所控制僵尸进程已经执行结束但其父进程还没有调用或来获取其状态信息所以进程的退出状态还没有被收集中的进程状态是动态变化的进程可以在不同的状态之间切换查看进程状态可以使用指令而在其中的僵尸状态是很特殊的一个在中僵尸状态是指一个已经退出的进程但父进程还没有调用或来获取其退出状态信息的进程当一个进程结束时它的退出状态信息会保存在内核的进程表中直到其父进程调用或来获取这些信息如果父进程没有及时处理那么该子进程就会成为僵尸进程僵尸进程因为已经结束所以不会占用系统资源只有一个进程表的槽位和一个进程但是如果系统中存在大量的僵尸进程也会占用过多的进程表资源从而导致系统性能下降僵尸进程的产生通常有以下几种情况父进程没有及时调用或来获取子进程的退出状态信息父进程已经终止但是没有正常处理子进程的退出状态信息父进程忽略了信号该信号是子进程终止时向父进程发送的信号简单的说父进程交给了子进程工作那么子进程就需要一个途径来向父进程反馈任务的完成情况可父进程如果一直不读取其状态信息那子进程就就一直处于状态维护退出状态本身就是要用数据维护也属于进程基本信息所以保存在中换句话说状态如果一直不退出一直都要维护那一个父进程创建了很多子进程但是不进行回收就会造成内存的浪费甚至更严重的后果内存泄漏进程切换是操作系统进行多任务处理的基本机制之一当我们在使用电脑时不会只使用一个软件同时会有大量的进程在进行交替执行这种现象我们称为并发尽管在宏观下我们发现软件是在同时运行比如听歌打游戏可以被同时进行但微观上是由处理器快速的切换进程并交替执行所完成的当有多个进程同时进行若系统是单那么它只能把运行时间划分成若干个时间片再将时间段分配给各个进程执行在一个时间段的进程代码运行时其它线程处于挂起状态这种方式称为并发当系统有多个时进程互不抢占资源可以同时进行这种方式称为并行下面是一个简化的图示来解释下进程的切换过程进程进程寄存器状态寄存器状态代码代码数据数据堆栈堆栈进程控制块进程控制块当进程正在执行时它的寄存器状态包括程序计数器栈指针等和相关数据存储在进程的内存空间中当操作系统调度器决定要切换到进程时它会保存进程的寄存器状态和其他重要的信息例如堆栈指针等并将这些信息存储在进程的进程控制块中操作系统会将进程的进程控制块中存储的寄存器状态和其他信息加载到对应的寄存器中来恢复进程的执行环境进程切换完成后操作系统会将的控制权转移到进程让进程继续执行在进程切换过程中操作系统会保存和恢复进程的寄存器状态堆栈指针等重要信息以确保进程的执行环境得以保存和恢复这样操作系统能够在不同进程之间快速切换实现多任务处理和资源共享僵尸进程与孤儿进程模拟僵尸进程一个进程使用创建子进程如果子进程退出而父进程并没有调用或获取子进程的状态信息那么子进程的进程描述符仍然保存在系统中这种进程称之为僵尸进程此时就创建了子进程子进程父进程得到结果孤儿进程一个父进程退出而它的一个或多个子进程还在运行那么那些子进程将成为孤儿进程孤儿进程将被进程进程号为所收养并由进程对它们完成状态收集工作如果是前台进程的话我们在前台将无法输入命令但是如果变成孤儿进程的话就会变成后台的进程依然可以运行执行结果此时孤儿进程将被进程进程号为所收养只有通过才能杀死它一些细节题下面有关孤儿进程和僵尸进程的描述说法错误的是孤儿进程一个父进程退出而它的一个或多个子进程还在运行那么那些子进程将成为孤儿进程僵尸进程一个进程使用创建子进程如果子进程退出而父进程并没有调用或获取子进程的状态信息那么子进程的进程描述符仍然保存在系统中这种进程称之为僵尸进程孤儿进程将被进程进程号为所收养并由进程对它们完成状态收集工作孤儿进程和僵尸进程都可能使系统不能产生新的进程都应该避免如果进程不调用或者那么保留信息就不会被释放其进程号就会一直被占用如果大量的产生僵尸进程会产生内存浪费的现象应当避免而孤儿进程是没有父进程的进程孤儿进程的管理这个重任就落到了进程身上进程专门负责处理孤儿进程的善后每当出现一个孤儿进程的时候内核就把孤儿进程的父进程设置为当一个孤儿进程结束其生命周期时进程就会去处理它因此孤儿进程并不会有什么危害题关于僵尸进程以下描述正确的有僵尸进程必须使用接口进行等待僵尸进程最终会自动退出僵尸进程可以被命令杀死僵尸进程是因为父进程先于子进程退出而产生的选项正确僵尸进程会造成资源泄露必须使用接口进行等待处理选项错误僵尸进程不会完全释放资源退出选项错误僵尸进程是已经退出运行的进程无法被杀死选项错误僵尸进程是子进程先于父进程退出题以下关于孤儿进程的描述正确的有父进程先于子进程退出则子进程成为孤儿进程孤儿进程会产生资源泄漏孤儿进程运行在系统后台孤儿进程没有父进程选项正确父进程先于子进程退出子进程就会成为孤儿进程选项错误孤儿进程退出不会成为僵尸进程因此也不会资源泄露选项正确孤儿进程是运行在后台的选项错误孤儿进程也有父进程父进程是号进程进程优先级既然进程可以切换那么到底谁在前面谁又在后面呢操作系统的调度器是以什么标准来判断何时一个进程该被执行何时一个进程该被阻塞呢资源分配的先后顺序就是指进程的优先权优先权高的进程有优先执行权利可以通过指令获取优先级执行者这个进程的代号父进程的代号代表这个进程可被执行的优先级其值越小越早被执行代表这个进程的值是进程的优先级就是程序被执行的先后顺序此值越小进程的优先级别越高也就是值其表示进程可被执行的优先级的修正数值值越小越快被执行那么加入值后则变为当值为负值的时候那么该程序将会优先级值将变小即其优先级会变高则其越快被执行调整进程优先级在下就是调整进程值调整值可以通过命令来实现值是一个整数其取值范围是最高优先级到最低优先级默认情况下新进程的值为设置进程的值当启动一个新进程时可以使用命令来设置它的值这条命令将启动名为的程序并将其值设置为查看当前的值返回当前的值通常是除非之前已经使用命令或类似工具更改过修改已运行进程的值这条命令将把进程为的进程的值修改为只有具有足够权限的用户如用户或进程的所有者才能降低进程的值即增加优先级普通用户只能提高进程的值降低优先级',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-12-13 17:10:10',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E9%B8%AD%E5%AD%90%E8%B5%B0%E8%B7%AF.gif"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="/null" title="demo"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="project" alt="demo"/><span class="back-menu-item-text">demo</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">ChengZi</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> Search</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="微信" src="/null"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/null"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">音乐</div><span class="author-content-item-title">灵魂的碰撞💥</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">February 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">December 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">November 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/linux/" itemprop="url">linux</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E8%BF%9B%E7%A8%8B/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>进程</span></a></span></div></div><h1 class="post-title" itemprop="name headline">初识进程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-12-13T09:08:06.000Z" title="Created 2024-12-13 17:08:06">2024-12-13</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-12-13T09:10:10.312Z" title="Updated 2024-12-13 17:10:10">2024-12-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为四川"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>四川</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734080988998.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2024/12/13/linux-process/"><header><a class="post-meta-categories" href="/categories/linux/" itemprop="url">linux</a><a href="/tags/%E8%BF%9B%E7%A8%8B/" tabindex="-1" itemprop="url">进程</a><h1 id="CrawlerTitle" itemprop="name headline">初识进程</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">chengzi</span><time itemprop="dateCreated datePublished" datetime="2024-12-13T09:08:06.000Z" title="Created 2024-12-13 17:08:06">2024-12-13</time><time itemprop="dateCreated datePublished" datetime="2024-12-13T09:10:10.312Z" title="Updated 2024-12-13 17:10:10">2024-12-13</time></header><h1 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h1><p>在了解进程前，还得介绍一下操作系统。</p>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>操作系统是计算机系统中的一种重要软件，它是计算机<code>硬件和软件</code>之间的桥梁，负责管理计算机系统的各种资源，如CPU、内存、输入输出设备等。操作系统可以被看作是计算机系统的管理者，它控制和协调计算机系统中各个部件的工作，使得应用程序能够正确地运行。</p>
<p>操作系统通常包括以下几个组成部分：</p>
<ol>
<li>内存管理：负责管理计算机系统的内存资源，包括内存的分配、释放和保护等。</li>
<li><code>进程管理</code>：负责管理计算机系统中的进程，包括进程的创建、调度、同步和通信等。</li>
<li>文件系统：负责管理计算机系统中的文件和目录，包括文件的读写、创建、删除和保护等。</li>
<li>输入输出管理：负责管理计算机系统中的输入输出设备，包括输入输出的缓存、设备的分配和释放等。</li>
</ol>
<p>维基百科这样总结操作系统：<code>操作系统</code>（Operating System，缩写：OS）是一组<code>主管并控制</code>计算机操作、运用和运行硬件、软件资源和提供公共服务来组织用户交互的相互关联的系统软件程序，同时也是计算机系统的<code>内核</code>与基石。操作系统需要处理如管理与配置内存、决定系统资源供需的优先次序、控制输入与输出设备、操作网络与管理文件系统等基本事务。操作系统也提供一个让用户与系统交互的操作界面。<br>操作系统的类型非常多样，不同机器安装的操作系统可从简单到复杂，可从移动电话的嵌入式系统到超级电脑的大型操作系统。许多操作系统制造者对它涵盖范畴的定义也不尽一致，例如有些操作系统集成了<code>图形用户界面</code>，而有些仅使用<code>命令行界面</code>，将图形用户界面视为一种非必要的应用程序。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src='https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84.png'><br>计算机系统中都包含且存在的一个基本的<code>程序集合</code>，就被称为操作系统。其根本目的就在于为用户<code>提供一个相对方便的操作环境，管理计算机的软硬件资源</code>。</p>
<h2 id="发展"><a href="#发展" class="headerlink" title="发展"></a>发展</h2><p>在20世纪40年代初期，计算机系统还处于非常初级的阶段，计算机的应用也非常有限。直到1945年，约翰·冯·诺伊曼提出了<code>冯洛伊曼体系</code>，这一体系彻底改变了计算机系统的结构和设计，开创了计算机技术的新时代。</p>
<p>随着计算机技术的不断发展，计算机系统的规模和复杂度也不断增加，操作系统的概念也随之出现。20世纪60年代初期，IBM公司发布了第一款商用操作系统——OS&#x2F;360，这标志着操作系统开始进入商用化阶段。</p>
<p>从此以后，操作系统和冯洛伊曼体系的发展就开始了新的篇章。随着计算机技术的不断进步，操作系统和冯洛伊曼体系也不断更新和演化，逐步适应了现代计算机系统的各种应用场景和技术需求。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.png">[冯诺依曼体系结构设计概念]</p>
<h2 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h2><p>我们如今所能使用的<code>大部分计算机</code>，都遵循这冯诺依曼体系。但冯诺依曼结构并非这一节的重点，我们只需要知道，memory指的是存储器，也就是常谈的<code>内存</code>！</p>
<blockquote>
<p>所有程序都是必须放到内存中去进行的！</p>
</blockquote>
<p>这是因为计算机的<code>CPU只能直接访问内存中的数据和指令</code>，而无法直接访问硬盘等外部存储设备中的数据和指令。因此，为了使程序能够被CPU执行，必须先将程序加载到内存中。<br>当程序被加载到内存中后，CPU可以通过<code>内存地址</code>来访问程序的指令和数据。而内存的访问速度比硬盘等外部存储设备的访问速度要快很多，所以将程序加载到内存中可以提高程序的运行效率。<br>程序加载到内存中运行是计算机系统必须遵循的<code>基本原则</code>，也是现代计算机系统高效运行的重要保障。这样做也可以提高程序间的并发能力，也提高了程序的安全性与稳定性。</p>
<blockquote>
<p>而内存的管理，又正好是操作系统的工作。</p>
</blockquote>
<p>而要谈的主题——进程，简单的说就是<code>运行的程序</code>，也就是加载到内存中的程序，这是需要操作系统进行协调控制的。<br>计算机作为<code>管理者</code>，驱动程序就是<code>执行者</code>，各种软硬件资源就是<code>被管理者</code>。管理者和被管理者并不需要见面，就像学校里你不用与校长见面，在公司也大概率不会见老板，你们之间的协调是通过辅导员或组长来完成的，而在计算机系统中，这个过程就交由程序作为执行者来完成。<br><code>系统调用</code>则作为操作系统与程序之间的<code>接口</code>，它将操作系统的底层功能暴露给程序，使得程序可以直接调用操作系统提供的服务和资源。系统调用是程序实现系统级别功能的重要手段之一。</p>
<p>操作系统在进程方面的作用可以简单的概括为：<code>先描述进程，再组织进程</code>。</p>
<h1 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><p>何为描述？又何为组织？</p>
<blockquote>
<p>进程是指正在运行的程序实例，它包含了程序代码、数据和执行状态等信息。操作系统需要对进程进行管理，包括创建、调度、终止、通信等操作。为了对进程进行管理，操作系统需要<code>先对进程进行描述</code>，即确定进程的<code>属性和状态</code>，如进程ID、优先级、状态等。进程描述通常由<code>进程控制块（Process Control Block，PCB）</code>来完成。</p>
</blockquote>
<p>在进程描述的基础上，操作系统需要对进程进行组织，以便<code>进行管理和调度</code>。进程可以组织成多种形式，如进程队列、进程树等。进程队列是指将同类进程组织到一起，如就绪队列、等待队列等。进程树是指将进程按照父子关系组织起来，形成树形结构。<br>举个例子，当一个进程需要被调度时，操作系统可以根据进程的属性和状态，选择合适的调度算法将进程调度到CPU上执行。同时，操作系统还可以通过进程间通信等机制，实现进程之间的数据共享和协作。</p>
<blockquote>
<p>一个进程等于<code>PCB</code>加上自己的<code>数据与代码</code>。</p>
</blockquote>
<p>当一个进程需要被加载到内存中去时，首先会创建一个描述进程的结构体对象，也就是PCB。</p>
<p>PCB通常包含以下信息：</p>
<ol>
<li>进程状态：表示进程当前的状态，如就绪、运行、等待等。</li>
<li>进程标识：标识进程的唯一标识符，如<code>进程ID、父进程ID</code>等。</li>
<li>寄存器值：保存进程在执行过程中各个寄存器的值，如程序计数器、堆栈指针等。</li>
<li>进程优先级：表示进程的优先级，用于调度器进行进程调度。</li>
<li>进程资源：表示进程所占用的资源，如打开的文件、分配的内存等。</li>
<li>进程调度信息：包含了进程的调度信息，如进程的调度时间片、已执行的CPU时间等。</li>
</ol>
<p>Linux操作系统下的PCB叫做<code>task_struct</code>。<br>task_struct是Linux内核的一种数据结构，它会被装载到RAM(内存)里且包含着进程的信息。</p>
<p>在task_struct里常有以下的内容：<br>标示符: 描述本进程的唯一标示符，用来区别其他进程。<br>状态: 任务状态。<br>优先级: 相对于其他进程的优先级。<br>程序计数器: 程序中即将被执行的<code>下一条</code>指令的地址。<br>内存指针: 包括程序代码和进程相关数据的指针，还有和其他进程共享的内存块的指针</p>
<p>除此之外还有上下文数据，记账信息等等。</p>
<p>可以通过proc指令查看进程,或者ps，top等用户级工具。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B3.png"></p>
<p>也可以通过系统调用的方法来获取进程的<code>pid（进程id）</code>以及<code>ppid（父进程id）</code>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;pid: %d\n&quot;</span>, getpid());</span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;ppid: %d\n&quot;</span>, getppid());</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行此程序得到如下结果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B4.png"></p>
<p>在操作系统中，父进程和子进程指的是进程之间的关系。</p>
<blockquote>
<p>父进程是生成其他进程的进程，而子进程是由父进程生成的进程。</p>
</blockquote>
<p>当一个进程创建一个新的进程的时候，创建者进程就被叫做父进程，而新创建的进程被称为子进程。父进程会通过<code>系统调用fork()</code>来创建子进程。在创建子进程后，父进程和子进程就会拥有相同的代码段、数据段和堆栈等资源，但是它们具备<code>各自独立</code>的执行空间。</p>
<p>子进程会从父进程那里继承部分的属性，包括进程ID,文件描述符等。子进程可以通过系统调用exec()来加载新的程序代码，从而替换掉原有的代码段，从而开始执行新的程序。子进程还可以通过系统调用exit()来终止自己的执行。</p>
<p>父进程和子进程的关系是一种层次结构，可以形成进程树。父进程可以创建多个子进程，而子进程也可以再次创建新的子进程，形成<code>多层级的进程树结构</code>。</p>
<p>接下来就认识一下如何用fork创建进程。</p>
<h2 id="fork"><a href="#fork" class="headerlink" title="fork"></a>fork</h2><p>fork()是一个系统调用，作用是创建一个新的进程。它会<code>复制当前进程，创建一个新的子进程</code>。在调用fork()时，操作系统会为子进程创建一个新的进程控制块（PCB），并将父进程的PCB的副本复制给子进程。</p>
<p>头文件为：unistd.h<br>函数原型：pid_t fork(void);</p>
<blockquote>
<p>fork()函数<code>返回两次</code>，一次在父进程中返回子进程的进程ID（PID），一次在子进程中返回0。这样可以通过<code>返回值的不同</code>来区分父进程和子进程的执行路径。</p>
</blockquote>
<p>在fork()函数执行后，父进程和子进程会继续执行fork()调用之后的代码。父进程和子进程会拥有“相同”的代码段、数据段和堆栈等资源，但是它们有各自独立的执行空间。</p>
<blockquote>
<p>在Unix-like系统（如Linux）中，当父进程通过某种方式（如fork()系统调用）创建一个子进程时，子进程会继承父进程的地址空间的一个副本。这个副本包括了代码段（即程序的机器指令部分）。如果父进程和子进程都还没有对各自的代码段进行修改（这是非常罕见的，因为代码段通常是只读的），它们实际上可能指向相同的物理内存页（通过虚拟内存机制），但从进程的角度来看，每个进程都有自己的虚拟地址空间中的代码段副本。而对于数据段（包括全局变量和静态变量）和堆栈（用于函数调用和局部变量），情况就不同了。当子进程被创建时，它会得到父进程数据段和堆栈的一个独立副本。这意味着虽然初始值可能相同（因为是复制过来的），但这两个进程对这些内存区域所做的任何修改都是独立的，不会影响到对方。</p>
</blockquote>
<p>子进程会继承父进程的很多属性,同时子进程也会有一些独属于自己的属性，例如它的父进程ID会是父进程的进程ID，而子进程的进程ID会是一个新的唯一值。</p>
<p>如何做到返回两次？</p>
<blockquote>
<p>fork()函数可以创建一个新的进程，该新进程是原始进程的一个副本。通过fork()函数，原始进程就会被复制一份，包括代码、数据、堆栈等，并且在两个进程中返回不同的值。<br>具体的讲,fork()函数被调用时，操作系统会创建一个新的进程（称为子进程），并将子进程的副本返回给父进程。<code>父进程会收到子进程的进程ID（PID），而子进程会收到0</code>。这样就实现了fork()函数返回两次的效果。<br>在fork()函数被调用后，父进程和子进程会在<code>fork()函数调用的位置</code>继续执行。它们会完全<code>独立</code>地运行，并且有各自的进程ID（PID）。子进程会继承父进程的文件描述符、用户ID等属性，但它们的执行环境是相互独立的。<br>通过fork()函数的返回值，父进程和子进程可以根据不同的返回值来执行不同的代码逻辑。且它们的执行顺序是不确定的，取决于操作系统如何调度。</p>
</blockquote>
<p>总结一下fork：</p>
<ol>
<li>fork有两个返回值。</li>
<li>父子进程<code>代码共享</code>，<code>数据各自开辟空间</code>，私有一份（采用写时拷贝）。</li>
</ol>
<p>使用fork时常用if进行分流。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="type">int</span> ret = fork();</span><br><span class="line"> <span class="keyword">if</span>(ret &lt; <span class="number">0</span>)&#123;</span><br><span class="line"> perror(<span class="string">&quot;fork&quot;</span>);</span><br><span class="line"> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span> <span class="keyword">if</span>(ret == <span class="number">0</span>)&#123; </span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;I am child : %d!, ret: %d\n&quot;</span>, getpid(), ret);</span><br><span class="line"> &#125;<span class="keyword">else</span>&#123; </span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;I am father : %d!, ret: %d\n&quot;</span>, getpid(), ret);</span><br><span class="line"> &#125;</span><br><span class="line"> sleep(<span class="number">1</span>);</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>结果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B5.png"></p>
<p>fork()函数的作用是创建一个新的进程，使得父进程和子进程可以并发执行、进行进程间通信、共享和隔离资源，并形成进程树结构，实现进程的管理和控制。具体的使用会在后面介绍。</p>
<p>在Linux环境下，父进程创建子进程的常用方法是使用fork()函数，但除了fork()函数，还有其他的方式可以创建子进程(了解)。</p>
<p>vfork()函数：与fork()函数类似，但是vfork()函数创建的子进程会与父进程共享相同的地址空间，子进程在调用exec()函数或者exit()函数之前必须要调用exec()函数或者_exit()函数来替换或退出，否则可能会导致数据不一致的问题。</p>
<p>clone()函数：clone()函数是Linux特有的系统调用，可以创建一个新的进程，并允许在创建时指定各种选项，例如共享地址空间、共享文件描述符等。</p>
<p>pthread_create()函数：该函数用于在一个进程内创建一个新的线程，这个线程可以看作是一个轻量级的子进程。线程共享父进程的地址空间和资源，但是有独立的栈空间和线程ID。</p>
<p>还有一些特殊情况下可以创建子进程，例如通过system()函数调用shell命令，或者通过exec()函数在当前进程内启动一个新的程序。但是这些方式实际上都是<code>通过fork()或者clone()等底层机制</code>来实现的。</p>
<h2 id="进程状态"><a href="#进程状态" class="headerlink" title="进程状态"></a>进程状态</h2><p>在Linux中，进程有主要存在以下几个状态：</p>
<ol>
<li>运行（Running）：进程正在执行或等待执行。</li>
<li>就绪（Ready）：进程已经准备好执行，但还没有得到CPU的执行时间。</li>
<li>等待（Waiting）：进程正在等待某个事件的发生，如IO操作的完成、信号的到达等。</li>
<li>停止（Stopped）：进程被暂停执行，通常是由于接收到一个信号或被调试器所控制。</li>
<li>僵尸（Zombie）：进程已经执行结束，但其父进程还没有调用wait()或waitpid()来获取其状态信息，所以进程的退出状态还没有被收集。</li>
</ol>
<blockquote>
<p>Linux中的进程状态是动态变化的，进程可以在不同的状态之间切换。</p>
</blockquote>
<p>查看进程状态可以使用<code>ps aux</code>指令。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B6.png">

<p>而在其中的僵尸状态是很特殊的一个。</p>
<blockquote>
<p>在Linux中，僵尸（Zombie）状态是指一个已经退出的进程，但父进程还<code>没有调用wait()或waitpid()</code>来获取其退出状态信息的进程。当一个进程结束时，它的退出状态信息会保存在内核的<code>进程表</code>中，直到其父进程调用wait()或waitpid()来获取这些信息。如果父进程没有及时处理，那么该子进程就会成为僵尸进程。</p>
</blockquote>
<p>僵尸进程因为已经结束所以不会占用系统资源，只有一个进程表的槽位和一个进程ID。但是，如果系统中存在大量的僵尸进程，也会占用过多的进程表资源，从而导致系统性能下降。</p>
<p>僵尸进程的产生通常有以下几种情况：</p>
<ol>
<li>父进程没有及时调用wait()或waitpid()来获取子进程的退出状态信息。</li>
<li>父进程已经终止，但是没有正常处理子进程的退出状态信息。</li>
<li>父进程忽略了SIGCHLD信号，该信号是子进程终止时向父进程发送的信号。</li>
</ol>
<p>简单的说，父进程交给了子进程工作，那么子进程就需要一个途径来向父进程反馈任务的完成情况，可父进程如果一直不读取其状态信息，那子进程就就一直处于Z状态。<br>维护退出状态本身就是要用数据维护，也属于进程基本信息，所以保存在task_struct(PCB)中，换句话说，Z状态如果一直不退出，PCB一直都要维护。<br>那一个父进程创建了很多子进程，但是不进行回收，就会造成内存的浪费，甚至更严重的后果——内存泄漏。</p>
<p><code>进程切换</code>是操作系统进行多任务处理的基本机制之一。<br>当我们在使用电脑时，不会只使用一个软件，同时会有大量的进程在进行交替执行！这种现象我们称为<code>并发</code>。尽管在宏观下我们发现软件是在同时运行，比如听歌打游戏可以被同时进行，但微观上是由处理器快速的切换进程并交替执行所完成的。</p>
<p>当有多个进程同时进行,若系统是单CPU,那么它只能把CPU运行时间划分成若干个<code>时间片</code>,再将时间段分配给各个进程执行,在一个时间段的进程代码运行时,其它线程处于挂起状态.这种方式称为并发(Concurrent)。</p>
<p>当系统有多个CPU时，进程互不抢占CPU资源,可以同时进行,这种方式称为并行(Parallel)。</p>
<p>下面是一个简化的图示来解释Linux下进程的切换过程：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">+-------------------------+                   +-------------------------+</span><br><span class="line">|        进程A            |                   |        进程B            |</span><br><span class="line">|-------------------------|                   |-------------------------|</span><br><span class="line">|       寄存器状态A        |                   |       寄存器状态B        |</span><br><span class="line">|                         |                   |                         |</span><br><span class="line">|          代码           |                   |          代码           |</span><br><span class="line">|          数据           |                   |          数据           |</span><br><span class="line">|          堆栈           |                   |          堆栈           |</span><br><span class="line">|                         |                   |                         |</span><br><span class="line">|-------------------------|                   |-------------------------|</span><br><span class="line">|        进程控制块A       |                   |       进程控制块B        |</span><br><span class="line">+-------------------------+                   +-------------------------+</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>当进程A正在执行时，它的寄存器状态A（包括程序计数器、栈指针等）和相关数据存储在进程A的内存空间中。</p>
<p>当<code>操作系统调度器</code>决定要切换到进程B时，它会保存进程A的寄存器状态A和其他重要的信息（例如堆栈指针等），并将这些信息存储在进程A的进程控制块中。</p>
<p>操作系统会将进程B的进程控制块B中存储的寄存器状态B和其他信息加载到对应的寄存器中，来恢复进程B的执行环境。</p>
<p>进程切换完成后，操作系统会将CPU的控制权转移到进程B，让进程B继续执行。</p>
<p>在进程切换过程中，操作系统会保存和恢复进程的寄存器状态、堆栈指针等重要信息，以确保进程的执行环境得以保存和恢复。这样，操作系统能够在不同进程之间快速切换，实现多任务处理和资源共享。</p>
<h2 id="僵尸进程与孤儿进程"><a href="#僵尸进程与孤儿进程" class="headerlink" title="僵尸进程与孤儿进程"></a>僵尸进程与孤儿进程</h2><h3 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h3><p>僵尸进程：一个进程使用fork创建子进程，如果子进程退出，而父进程并没有调用wait或waitpid获取子进程的状态信息，那么子进程的进程描述符仍然保存在系统中。这种进程称之为僵尸进程。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">   <span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">   &#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,getpid());</span><br><span class="line">       <span class="type">pid_t</span> pid = fork();<span class="comment">//此时就创建了子进程</span></span><br><span class="line">      <span class="keyword">if</span>(pid &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;error\n&quot;</span>);</span><br><span class="line">         <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(pid == <span class="number">0</span>) <span class="comment">//子进程</span></span><br><span class="line">      &#123;</span><br><span class="line">          </span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;I am child——%d\n&quot;</span>,getpid());</span><br><span class="line">          sleep(<span class="number">5</span>);</span><br><span class="line">          <span class="built_in">exit</span>(<span class="number">0</span>);                                                                                                                                                                        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(pid &gt; <span class="number">0</span>) <span class="comment">//父进程</span></span><br><span class="line">      &#123;</span><br><span class="line">          </span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;I am father——%d\n&quot;</span>,getpid());</span><br><span class="line">      &#125;</span><br><span class="line">     <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,getpid());</span><br><span class="line">          sleep(<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>得到结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">14110</span><br><span class="line">I am father——14110</span><br><span class="line">14110</span><br><span class="line">I am child——14111</span><br><span class="line">14110</span><br><span class="line">14110</span><br><span class="line">14110</span><br><span class="line">14110</span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B8.png">



<p>孤儿进程：一个父进程退出，而它的一个或多个子进程还在运行，那么那些子进程将成为孤儿进程。孤儿进程将被init进程(进程号为1)所收养，并由init进程对它们完成状态收集工作。如果是前台进程的话，我们在前台将无法输入命令，但是如果变成孤儿进程的话，就会变成<code>后台的进程</code>，依然可以运行。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line">   </span><br><span class="line">   <span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">   &#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,getpid());</span><br><span class="line">       <span class="type">pid_t</span> pid = fork();</span><br><span class="line">       <span class="keyword">if</span>(pid &gt; <span class="number">0</span>)</span><br><span class="line">      &#123;</span><br><span class="line">          sleep(<span class="number">5</span>);</span><br><span class="line">          <span class="built_in">exit</span>(<span class="number">0</span>);                                                                                                                                                                        </span><br><span class="line">  </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">     &#123;</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,getppid());</span><br><span class="line">          sleep(<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行结果：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B9.png"></p>
<p>此时孤儿进程将被init进程(进程号为1)所收养。只有通过kill才能杀死它。</p>
<h3 id="一些细节"><a href="#一些细节" class="headerlink" title="一些细节"></a>一些细节</h3><blockquote>
<p>题1.下面有关孤儿进程和僵尸进程的描述，说法错误的是？<br>A.孤儿进程：一个父进程退出，而它的一个或多个子进程还在运行，那么那些子进程将成为孤儿进程。<br>B.僵尸进程：一个进程使用fork创建子进程，如果子进程退出，而父进程并没有调用wait或waitpid获取子进程的状态信息，那么子进程的进程描述符仍然保存在系统中。这种进程称之为僵尸进程。<br>C.孤儿进程将被init进程(进程号为1)所收养，并由init进程对它们完成状态收集工作。<br>D.孤儿进程和僵尸进程都可能使系统不能产生新的进程，都应该避免。</p>
</blockquote>
<p>如果进程不调用wait或者waitpid，那么保留信息就不会被释放，其进程号就会一直被占用，如果大量的产生僵尸进程，会产生内存浪费的现象，应当避免。<br>而孤儿进程是没有父进程的进程，孤儿进程的管理这个重任就落到了init进程身上 ，init进程专门负责处理孤儿进程的善后。每当出现一个孤儿进程的时候，内核就把孤儿进程的父进程设置为init，当一个孤儿进程结束其生命周期时，init进程就会去处理它， 因此孤儿进程并不会有什么危害。</p>
<blockquote>
<p>题2.关于僵尸进程，以下描述正确的有？<br>A.僵尸进程必须使用waitpid&#x2F;wait接口进行等待<br>B.僵尸进程最终会自动退出<br>C.僵尸进程可以被kill命令杀死<br>D.僵尸进程是因为父进程先于子进程退出而产生的</p>
</blockquote>
<p>A选项正确，僵尸进程会造成资源泄露，必须使用wait&#x2F;waitpid接口进行等待处理。<br>B选项错误，僵尸进程不会完全释放资源退出。<br>C选项错误，僵尸进程是已经退出运行的进程，无法被杀死。<br>D选项错误，僵尸进程是子进程先于父进程退出。</p>
<blockquote>
<p>题3.以下关于孤儿进程的描述正确的有<br>A.父进程先于子进程退出，则子进程成为孤儿进程<br>B.孤儿进程会产生资源泄漏<br>C.孤儿进程运行在系统后台<br>D.孤儿进程没有父进程</p>
</blockquote>
<p>A选项正确：父进程先于子进程退出，子进程就会成为孤儿进程。<br>B选项错误：孤儿进程退出不会成为僵尸进程，因此也不会资源泄露。<br>C选项正确：孤儿进程是运行在后台的。<br>D选项错误：孤儿进程也有父进程，父进程是1号进程。</p>
<h2 id="进程优先级"><a href="#进程优先级" class="headerlink" title="进程优先级"></a>进程优先级</h2><p>既然进程可以切换，那么到底谁在前面谁又在后面呢？操作系统的调度器是以什么标准来判断：何时一个进程该被执行，何时一个进程该被阻塞呢？</p>
<blockquote>
<p>cpu<code>资源分配</code>的先后顺序，就是指进程的优先权（priority）。优先权高的进程有优先执行权利。</p>
</blockquote>
<p>可以通过<code>ps -l</code>指令获取优先级。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%E8%BF%9B%E7%A8%8B7.png"></p>
<ol>
<li>UID : 执行者</li>
<li>PID : 这个进程的代号</li>
<li>PPID ：父进程的代号</li>
<li>PRI ：代表这个进程可被执行的优先级，其值越<code>小</code>越早被执行</li>
<li>NI ：代表这个进程的nice值</li>
</ol>
<p>PRI是进程的优先级，就是程序被CPU执行的先后顺序，此值越小，进程的优先级别越高。<br>NI，也就是nice值，其表示进程可被执行的优先级的<code>修正数值</code>，PRI值越小越快被执行，那么加入nice值后，PRI则变为<code>PRI(new)=PRI(old)+nice</code>。当nice值为负值的时候，那么该程序将会优先级值将变小，即其优先级会变高，则其越快被执行。调整进程优先级，在Linux下，就是<code>调整进程nice值</code>。</p>
<p>调整nice值可以通过nice命令来实现。nice值是一个整数，其取值范围是<code>-20（最高优先级）到19（最低优先级）</code>。默认情况下，新进程的nice值为0。</p>
<blockquote>
<p>设置进程的nice值</p>
</blockquote>
<p>当启动一个新进程时，可以使用nice命令来设置它的nice值。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nice</span> -n 10 ./my_program</span><br></pre></td></tr></table></figure>
<p>这条命令将启动名为my_program的程序，并将其nice值设置为10。</p>
<blockquote>
<p>查看当前shell的nice值</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nice</span></span><br></pre></td></tr></table></figure>

<p>返回当前shell的nice值，通常是0（除非之前已经使用renice命令或类似工具更改过）。</p>
<blockquote>
<p>修改已运行进程的nice值</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">renice -n 5 -p 1234</span><br></pre></td></tr></table></figure>

<p>这条命令将把进程ID为1234的进程的nice值修改为5。只有具有足够权限的用户（如root用户或进程的所有者）才能降低进程的nice值（即增加优先级）。普通用户只能提高进程的nice值（降低优先级）。</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/IMG_1561-VEED.gif" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/IMG_1561-VEED.gif" title="头像" alt="头像"></a><div class="post-copyright__author_name">chengzi</div><div class="post-copyright__author_desc">个人博客</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2024/12/13/linux-process/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2024/12/13/linux-process/')">初识进程</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2024/12/13/linux-process/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=初识进程&amp;url=http://example.com/2024/12/13/linux-process/&amp;pic=https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734080988998.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E8%BF%9B%E7%A8%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>进程<span class="tagsPageCount">3</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1740279920116.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/12/13/linux-makefile/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734077962003.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Makefile——高效的自动编译工具</div></div></a></div><div class="next-post pull-right"><a href="/2024/12/14/linux-createprocess/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734172941351.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">一个进程的诞生(bushi)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2024/12/14/linux-createprocess/" title="一个进程的诞生(bushi)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734172941351.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-12-14</div><div class="title">一个进程的诞生(bushi)</div></div></a></div><div><a href="/2024/12/25/linux-Process%20communication/" title="基于Linux的进程通信"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1740279920116.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-12-25</div><div class="title">基于Linux的进程通信</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/IMG_1561-VEED.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">本博客记载<b style="color:#fff">开发，算法等</b>相关内容，还有<b style="color:#fff">雅思学习</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">希望你在这里能得到有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">chengzi</h1><div class="author-info__desc">个人博客</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/chengzi516" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B1%95"><span class="toc-number">1.2.</span> <span class="toc-text">发展</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98"><span class="toc-number">1.3.</span> <span class="toc-text">内存</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">进程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="toc-number">2.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fork"><span class="toc-number">2.2.</span> <span class="toc-text">fork</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81"><span class="toc-number">2.3.</span> <span class="toc-text">进程状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%83%B5%E5%B0%B8%E8%BF%9B%E7%A8%8B%E4%B8%8E%E5%AD%A4%E5%84%BF%E8%BF%9B%E7%A8%8B"><span class="toc-number">2.4.</span> <span class="toc-text">僵尸进程与孤儿进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F"><span class="toc-number">2.4.1.</span> <span class="toc-text">模拟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82"><span class="toc-number">2.4.2.</span> <span class="toc-text">一些细节</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">2.5.</span> <span class="toc-text">进程优先级</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/02/22/test-blog/" title="博客项目测试文档"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1740280088679.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="博客项目测试文档"/></a><div class="content"><a class="title" href="/2025/02/22/test-blog/" title="博客项目测试文档">博客项目测试文档</a><time datetime="2025-02-22T07:41:10.000Z" title="Created 2025-02-22 15:41:10">2025-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/25/linux-Process%20communication/" title="基于Linux的进程通信"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1740279920116.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于Linux的进程通信"/></a><div class="content"><a class="title" href="/2024/12/25/linux-Process%20communication/" title="基于Linux的进程通信">基于Linux的进程通信</a><time datetime="2024-12-25T07:26:01.000Z" title="Created 2024-12-25 15:26:01">2024-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/18/linux-file%20system/" title="IO与文件系统"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734494164320.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IO与文件系统"/></a><div class="content"><a class="title" href="/2024/12/18/linux-file%20system/" title="IO与文件系统">IO与文件系统</a><time datetime="2024-12-18T03:54:29.000Z" title="Created 2024-12-18 11:54:29">2024-12-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/15/cpp-priority_queue/" title="优先级队列的简单模拟实现"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734239881472.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="优先级队列的简单模拟实现"/></a><div class="content"><a class="title" href="/2024/12/15/cpp-priority_queue/" title="优先级队列的简单模拟实现">优先级队列的简单模拟实现</a><time datetime="2024-12-15T05:15:03.000Z" title="Created 2024-12-15 13:15:03">2024-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/15/cpp-list%20implement/" title="List的简单模拟实现"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/%5Blab.magiconch.com%5D%5B%E7%A6%8F%E9%9F%B3%E6%88%B0%E5%A3%AB%E6%A8%99%E9%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%5D-1734227595729.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="List的简单模拟实现"/></a><div class="content"><a class="title" href="/2024/12/15/cpp-list%20implement/" title="List的简单模拟实现">List的简单模拟实现</a><time datetime="2024-12-15T00:41:28.000Z" title="Created 2024-12-15 08:41:28">2024-12-15</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:p772307283@outlook.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://tuchuang-1317757279.cos.ap-chengdu.myqcloud.com/IMG_1561-VEED.gif" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/chengzi516" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div><div class="copyright">&copy;2023 - 2025 By chengzi</div><div id="workboard"><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a></p></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">19</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">29</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">4</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="/null" title="demo"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="project" alt="demo"/><span class="back-menu-item-text">demo</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/IO/" style="font-size: 0.88rem;">IO<sup>1</sup></a><a href="/tags/c/" style="font-size: 0.88rem;">c<sup>1</sup></a><a href="/tags/c/" style="font-size: 0.88rem;">c++<sup>11</sup></a><a href="/tags/list/" style="font-size: 0.88rem;">list<sup>1</sup></a><a href="/tags/makefile/" style="font-size: 0.88rem;">makefile<sup>1</sup></a><a href="/tags/queue/" style="font-size: 0.88rem;">queue<sup>1</sup></a><a href="/tags/string/" style="font-size: 0.88rem;">string<sup>1</sup></a><a href="/tags/vector/" style="font-size: 0.88rem;">vector<sup>1</sup></a><a href="/tags/%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/" style="font-size: 0.88rem;">内存对齐<sup>1</sup></a><a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 0.88rem;">内存管理<sup>1</sup></a><a href="/tags/%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/" style="font-size: 0.88rem;">函数重载<sup>1</sup></a><a href="/tags/%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8/" style="font-size: 0.88rem;">初始化列表<sup>1</sup></a><a href="/tags/%E5%8F%8B%E5%85%83/" style="font-size: 0.88rem;">友元<sup>1</sup></a><a href="/tags/%E5%A4%9A%E6%80%81/" style="font-size: 0.88rem;">多态<sup>1</sup></a><a href="/tags/%E5%A4%A7%E5%B0%8F%E7%AB%AF/" style="font-size: 0.88rem;">大小端<sup>1</sup></a><a href="/tags/%E5%AF%B9%E8%B1%A1/" style="font-size: 0.88rem;">对象<sup>2</sup></a><a href="/tags/%E5%BC%95%E7%94%A8/" style="font-size: 0.88rem;">引用<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.88rem;">数据结构<sup>4</sup></a><a href="/tags/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" style="font-size: 0.88rem;">文件系统<sup>1</sup></a><a href="/tags/%E6%98%93%E9%94%99%E7%82%B9/" style="font-size: 0.88rem;">易错点<sup>1</sup></a><a href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/" style="font-size: 0.88rem;">碎碎念<sup>1</sup></a><a href="/tags/%E7%A7%91%E6%8A%80/" style="font-size: 0.88rem;">科技<sup>1</sup></a><a href="/tags/%E7%B1%BB/" style="font-size: 0.88rem;">类<sup>2</sup></a><a href="/tags/%E7%BB%8F%E6%B5%8E%E5%AD%A6%E4%BA%BA2024/" style="font-size: 0.88rem;">经济学人2024<sup>1</sup></a><a href="/tags/%E7%BB%A7%E6%89%BF/" style="font-size: 0.88rem;">继承<sup>1</sup></a><a href="/tags/%E7%BC%96%E8%AF%91/" style="font-size: 0.88rem;">编译<sup>2</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" style="font-size: 0.88rem;">软件测试<sup>1</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 0.88rem;">进程<sup>3</sup></a><a href="/tags/%E9%80%9A%E4%BF%A1/" style="font-size: 0.88rem;">通信<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="5094069883" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=5094069883&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("10/26/2024 12:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2023 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 chengzi 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("10/26/2024 12:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>